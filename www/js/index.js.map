{"version":3,"sources":["webpack://sudoku/./js/core/checker.ts","webpack://sudoku/./js/core/generator.ts","webpack://sudoku/./js/core/sudoku.ts","webpack://sudoku/./js/core/toolkit.ts","webpack://sudoku/./js/index.ts","webpack://sudoku/./js/ui/grid.ts","webpack://sudoku/./js/ui/popupnumber.ts","webpack://sudoku/webpack/bootstrap","webpack://sudoku/webpack/startup"],"names":["Object","value","exports","checkArray","array","length","marks","Array","fill","i","v","j","toolkit_1","require","Checker","matrix","_success","_matrix","_matrixMarks","makeMatrix","checkRows","checkCols","checkBoxes","every","row","mark","rowIndex","colIndex","cols","boxIndex","boxes","box","getBoxCells","cellIndex","convertFromBoxIndex","Generator","orders","internalGenerate","console","log","map","shuffle","from","n","fillNumber","fillRow","checkFillable","generator_1","Sudoku","puzzleMatrix","genterator","generate","solutionMatrix","level","cell","Math","random","MatrixToolkit","makeRow","endIndex","floor","column","boxToolkit","convertToBoxIndex","startRowIndex","startColIndex","result","push","Toolkit","grid_1","popupnumber_1","grid","$","popupNumbers","build","layout","bindPopup","on","e","check","alert","reset","clear","rebuild","sudoku_1","checker_1","Grid","container","_$container","sudoku","make","rowGroupClasses","colGroupClasses","$cells","rowValues","cellValue","addClass","text","$divArray","$spanArray","append","width","height","css","$cell","target","is","popup","empty","data","children","toArray","div","span","parseInt","checker","matrixMarks","each","$span","removeClass","find","PopupNumbers","$panel","_$targetCell","_$panel","hide","hasClass","position","left","top","bodyWidth","document","body","right","show"],"mappings":"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","file":"index.js","sourcesContent":["\"use strict\";\r\n// 检查数据\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Checker = void 0;\r\nfunction checkArray(array) {\r\n    const length = array.length;\r\n    const marks = new Array(length);\r\n    marks.fill(true);\r\n    for (let i = 0; i < length; i++) {\r\n        if (!marks[i]) {\r\n            continue;\r\n        }\r\n        const v = array[i];\r\n        // 是否有效:  0为无效   1-9为有效\r\n        if (!v) {\r\n            marks[i] = false;\r\n            continue;\r\n        }\r\n        // 是否重复: i+1 ~ 9 是否和 i 位置的数据重复\r\n        for (let j = i + 1; j < length; j++) {\r\n            if (v === array[j]) {\r\n                marks[i] = marks[j] = false;\r\n            }\r\n        }\r\n    }\r\n    return marks;\r\n}\r\nconst toolkit_1 = require(\"./toolkit\");\r\n// const Toolkit = require('./toolkit.js')\r\n// 输入: matrix, 用户完成的数独数据, 9 * 9\r\n// 处理: 对 matrix 行、列、宫进行检查, 并填写 marks\r\n// 输出: 检查是否成功、marks\r\nclass Checker {\r\n    constructor(matrix) {\r\n        this._success = false;\r\n        this._matrix = matrix;\r\n        this._matrixMarks = toolkit_1.default.matrix.makeMatrix(true);\r\n    }\r\n    get matrixMarks() {\r\n        return this._matrixMarks;\r\n    }\r\n    get isSuccess() {\r\n        return this._success;\r\n    }\r\n    check() {\r\n        this.checkRows();\r\n        this.checkCols();\r\n        this.checkBoxes();\r\n        // 检查是否成功\r\n        this._success = this._matrixMarks.every(row => row.every(mark => mark));\r\n        return this._success;\r\n    }\r\n    checkRows() {\r\n        for (let rowIndex = 0; rowIndex < 9; rowIndex++) {\r\n            const row = this._matrix[rowIndex];\r\n            const marks = checkArray(row);\r\n            for (let colIndex = 0; colIndex < marks.length; colIndex++) {\r\n                if (!marks[colIndex]) {\r\n                    this._matrixMarks[rowIndex][colIndex] = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    checkCols() {\r\n        for (let colIndex = 0; colIndex < 9; colIndex++) {\r\n            const cols = [];\r\n            for (let rowIndex = 0; rowIndex < 9; rowIndex++) {\r\n                cols[rowIndex] = this._matrix[rowIndex][colIndex];\r\n            }\r\n            const marks = checkArray(cols);\r\n            for (let rowIndex = 0; rowIndex < marks.length; rowIndex++) {\r\n                if (!marks[rowIndex]) {\r\n                    this._matrixMarks[rowIndex][colIndex] = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    checkBoxes() {\r\n        for (let boxIndex = 0; boxIndex < 9; boxIndex++) {\r\n            const boxes = toolkit_1.default.box.getBoxCells(this._matrix, boxIndex);\r\n            const marks = checkArray(boxes);\r\n            for (let cellIndex = 0; cellIndex < 9; cellIndex++) {\r\n                if (!marks[cellIndex]) {\r\n                    const { rowIndex, colIndex } = toolkit_1.default.box.convertFromBoxIndex(boxIndex, cellIndex);\r\n                    this._matrixMarks[rowIndex][colIndex] = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.Checker = Checker;\r\nexports.default = Checker;\r\n// const Generator = require('./generator.js')\r\n// const gen = new Generator()\r\n// gen.generate()\r\n// const matrix = gen.matrix\r\n// const checker = new Checker(matrix)\r\n// console.log('check result', checker.check())\r\n// console.log(checker.matrixMarks)\r\n//\r\n// matrix[1][1] = 0\r\n// matrix[2][3] = matrix[3][5] = 5\r\n// const checker2 = new Checker(matrix)\r\n// console.log('check result', checker2.check())\r\n// console.log(checker2.matrixMarks)\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Generator = void 0;\r\n// 生成数独解决方案\r\nconst toolkit_1 = require(\"./toolkit\");\r\n// const Toolkit = require('./toolkit.js')\r\nclass Generator {\r\n    constructor() {\r\n        this.matrix = [];\r\n        this.orders = [];\r\n    }\r\n    generate() {\r\n        while (!this.internalGenerate()) {\r\n            console.log('try again');\r\n        }\r\n    }\r\n    internalGenerate() {\r\n        //  入口方法\r\n        this.matrix = toolkit_1.default.matrix.makeMatrix();\r\n        this.orders = toolkit_1.default.matrix.makeMatrix()\r\n            .map(row => row.map((v, i) => i))\r\n            .map(row => toolkit_1.default.matrix.shuffle(row));\r\n        // for (let n = 1; n <= 9; n++) { // 填写 1 - 9\r\n        //   if (!this.fillNumber(n)) {\r\n        //     return false\r\n        //   }\r\n        // }\r\n        // return true\r\n        return Array.from({ length: 9 }).every((n, i) => this.fillNumber(i + 1));\r\n    }\r\n    fillNumber(n) {\r\n        return this.fillRow(n, 0);\r\n    }\r\n    /**\r\n     *\r\n     * @param n  值\r\n     * @param rowIndex 行\r\n     */\r\n    fillRow(n, rowIndex) {\r\n        // console.log('rowIndex ==== ', rowIndex)\r\n        if (rowIndex > 8) {\r\n            return true;\r\n        }\r\n        const row = this.matrix[rowIndex]; // 值都为 0 的行\r\n        const orders = this.orders[rowIndex]; // 值打乱的行\r\n        // console.log('orders', orders)\r\n        for (let i = 0; i < 9; i++) { // 遍历每一列\r\n            // const colIndex = i\r\n            const colIndex = orders[i]; // 列号\r\n            // 如果这个位置已经有值, 跳过\r\n            if (row[colIndex]) {\r\n                // console.log('如果这个位置已经有值, 跳过')\r\n                continue;\r\n            }\r\n            // 检查这个位置是否可以填 n\r\n            if (!toolkit_1.default.matrix.checkFillable(this.matrix, n, rowIndex, colIndex)) {\r\n                // console.log('检查这个位置是否可以填', n)\r\n                continue;\r\n            }\r\n            row[colIndex] = n;\r\n            // console.log(row)\r\n            // 去下一行填写 n, 如果没填进去, 就继续寻找当前行下一个位置\r\n            // 当前行填写 n 成功, 递归调用 fillRow() 来在下一行中填写 n\r\n            if (!this.fillRow(n, rowIndex + 1)) {\r\n                // console.log('返回false', n , rowIndex + 1)\r\n                row[colIndex] = 0;\r\n                continue;\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\nexports.Generator = Generator;\r\nexports.default = Generator;\r\n","\"use strict\";\r\n// 生成数独游戏\r\n// 1.生成完成的解决方案, Generator\r\n// 2.随机去除部分数据: 按比例\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Sudoku = void 0;\r\n// const Generator = require('./generator.js')\r\nconst generator_1 = require(\"./generator\");\r\nclass Sudoku {\r\n    constructor() {\r\n        this.puzzleMatrix = [];\r\n        // 生成完成的解决方案\r\n        const genterator = new generator_1.default();\r\n        genterator.generate();\r\n        this.solutionMatrix = genterator.matrix;\r\n    }\r\n    make(level = 5) {\r\n        // const shouldRid = Math.random() * 9 < level\r\n        // 生成迷盘\r\n        this.puzzleMatrix = this.solutionMatrix.map(row => {\r\n            return row.map(cell => Math.random() * 9 < level ? 0 : cell);\r\n        });\r\n    }\r\n}\r\nexports.Sudoku = Sudoku;\r\nexports.default = Sudoku;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Toolkit = void 0;\r\nclass MatrixToolkit {\r\n    static makeRow(v = 0) {\r\n        const array = new Array(9);\r\n        array.fill(v);\r\n        return array;\r\n    }\r\n    static makeMatrix(v = 0) {\r\n        return Array.from({ length: 9 }, () => this.makeRow(v));\r\n    }\r\n    /**\r\n     * Fisher-Yates 洗牌算法\r\n     */\r\n    static shuffle(array) {\r\n        const endIndex = array.length - 2; // 7\r\n        for (let i = 0; i <= endIndex; i++) {\r\n            const j = i + Math.floor(Math.random() * (array.length - i));\r\n            [array[i], array[j]] = [array[j], array[i]];\r\n        }\r\n        return array;\r\n    }\r\n    /**\r\n     *\r\n     *  检查指定位置可以填写数字 n\r\n     */\r\n    static checkFillable(matrix, n, rowIndex, colIndex) {\r\n        const row = matrix[rowIndex];\r\n        const column = this.makeRow().map((v, i) => matrix[i][colIndex]);\r\n        const { boxIndex } = boxToolkit.convertToBoxIndex(rowIndex, colIndex);\r\n        const box = boxToolkit.getBoxCells(matrix, boxIndex);\r\n        for (let i = 0; i < 9; i++) {\r\n            if (row[i] === n || column[i] === n || box[i] === n) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\nconst boxToolkit = {\r\n    getBoxCells(matrix, boxIndex) {\r\n        const startRowIndex = Math.floor(boxIndex / 3) * 3;\r\n        const startColIndex = boxIndex % 3 * 3;\r\n        const result = [];\r\n        for (let cellIndex = 0; cellIndex < 9; cellIndex++) {\r\n            const rowIndex = startRowIndex + Math.floor(cellIndex / 3);\r\n            const colIndex = startColIndex + cellIndex % 3;\r\n            result.push(matrix[rowIndex][colIndex]);\r\n        }\r\n        return result;\r\n    },\r\n    convertToBoxIndex(rowIndex, colIndex) {\r\n        return {\r\n            boxIndex: Math.floor(rowIndex / 3) * 3 + Math.floor(colIndex / 3),\r\n            cellIndex: rowIndex % 3 * 3 + colIndex % 3\r\n        };\r\n    },\r\n    convertFromBoxIndex(boxIndex, cellIndex) {\r\n        return {\r\n            rowIndex: Math.floor(boxIndex / 3) * 3 + Math.floor(cellIndex / 3),\r\n            colIndex: boxIndex % 3 * 3 + cellIndex % 3\r\n        };\r\n    }\r\n};\r\nclass Toolkit {\r\n    /**\r\n     * 矩阵和数据相关的工具\r\n     *\r\n     */\r\n    static get matrix() {\r\n        return MatrixToolkit;\r\n    }\r\n    static get box() {\r\n        return boxToolkit;\r\n    }\r\n}\r\nexports.Toolkit = Toolkit;\r\nexports.default = Toolkit;\r\n","\"use strict\";\r\n// const Grid = require('./ui/grid.js')\r\n// const PopupNumbers = require('./ui/popupnumber.js')\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst grid_1 = require(\"./ui/grid\");\r\nconst popupnumber_1 = require(\"./ui/popupnumber\");\r\nconst grid = new grid_1.default($('#container'));\r\nconst popupNumbers = new popupnumber_1.default($('#popupNumbers'));\r\ngrid.build();\r\ngrid.layout();\r\ngrid.bindPopup(popupNumbers);\r\n$('#check').on('click', e => {\r\n    if (grid.check()) {\r\n        alert('成功');\r\n    }\r\n});\r\n$('#reset').on('click', e => {\r\n    grid.reset();\r\n});\r\n$('#clear').on('click', e => {\r\n    grid.clear();\r\n});\r\n$('#rebuild').on('click', e => {\r\n    grid.rebuild();\r\n});\r\n","\"use strict\";\r\n// 生成九宫格\r\n// const Generator = require('../core/generator.js')\r\n// const Sudoku = require('../core/sudoku.js')\r\n// const Checker = require('../core/checker.js')\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst sudoku_1 = require(\"../core/sudoku\");\r\nconst checker_1 = require(\"../core/checker\");\r\nclass Grid {\r\n    constructor(container) {\r\n        this._$container = container;\r\n    }\r\n    build() {\r\n        // const generator = new Generator()\r\n        // generator.generate()\r\n        // const matrix = generator.matrix\r\n        // const matrix = ToolKit.matrix.makeMatrix()\r\n        // console.log(matrix)  9 * 9 值都是0的矩阵\r\n        const sudoku = new sudoku_1.default();\r\n        sudoku.make();\r\n        const matrix = sudoku.puzzleMatrix;\r\n        // const matrix = sudoku.solutionMatrix\r\n        const rowGroupClasses = ['row_g_top', 'row_g_middle', 'row_g_bottom'];\r\n        const colGroupClasses = ['col_g_left', 'col_g_center', 'col_g_right'];\r\n        const $cells = matrix.map(rowValues => rowValues.map((cellValue, colIndex) => {\r\n            return $('<span>')\r\n                .addClass(colGroupClasses[colIndex % 3])\r\n                .addClass(cellValue ? 'fixed' : 'empty')\r\n                .text(cellValue);\r\n        }));\r\n        // console.log('$cells', $cells)  每个0 被替换成 span\r\n        const $divArray = $cells.map(($spanArray, rowIndex) => {\r\n            return $('<div>')\r\n                .addClass('row')\r\n                .addClass(rowGroupClasses[rowIndex % 3])\r\n                .append($spanArray);\r\n        });\r\n        // console.log('$divArray', $divArray) 每一行 被一个div包裹\r\n        this._$container.append($divArray);\r\n    }\r\n    layout() {\r\n        const width = $('span:first', this._$container).width();\r\n        $('span', this._$container)\r\n            .height(width)\r\n            .css({\r\n            'line-height': `${width}px`,\r\n            'font-size': width < 32 ? `${width / 2}px` : ''\r\n        });\r\n        // $(this._$container).height(width)\r\n    }\r\n    bindPopup(popupNumbers) {\r\n        this._$container.on('click', 'span', e => {\r\n            const $cell = $(e.target); // $cell 每一个迷盘中的数字\r\n            if ($cell.is('.fixed')) {\r\n                return;\r\n            }\r\n            popupNumbers.popup($cell);\r\n        });\r\n    }\r\n    /**\r\n     * 重建新的迷盘, 开启新一局\r\n     */\r\n    rebuild() {\r\n        this._$container.empty();\r\n        this.build();\r\n        this.layout();\r\n    }\r\n    /**\r\n     * 检查用户解迷的结果, 成功则进行提示, 失败显示错误位置的标记\r\n     */\r\n    check() {\r\n        // 从界面获取需要检查的数据\r\n        const data = this._$container.children().toArray().map((div) => {\r\n            return $(div).children().toArray().map(span => parseInt($(span).text()) || 0);\r\n        });\r\n        console.log(data);\r\n        const checker = new checker_1.default(data);\r\n        if (checker.check()) {\r\n            return true;\r\n        }\r\n        // 检查不成功, 进行标记\r\n        const marks = checker.matrixMarks;\r\n        this._$container.children()\r\n            .each((rowIndex, div) => {\r\n            $(div).children().each((colIndex, span) => {\r\n                const $span = $(span);\r\n                if ($span.is('.fixed') || marks[rowIndex][colIndex]) {\r\n                    $span.removeClass('error');\r\n                }\r\n                else {\r\n                    $span.addClass('error');\r\n                }\r\n            });\r\n        });\r\n    }\r\n    /**\r\n     * 重置当前迷盘到初始状态\r\n     */\r\n    reset() {\r\n        this._$container.find('span:not(.fixed)')\r\n            .removeClass('error mark1 mark2')\r\n            .addClass('empty')\r\n            .text(0);\r\n    }\r\n    /**\r\n     * 清理错误标记\r\n     */\r\n    clear() {\r\n        this._$container.find('span.error')\r\n            .removeClass('error');\r\n    }\r\n}\r\nexports.default = Grid;\r\n","\"use strict\";\r\n// 处理弹出的操作面板\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PopupNumbers = void 0;\r\n// cell --(click) --> popup\r\n// popup --(click)--> n --(fill)--> cell\r\nclass PopupNumbers {\r\n    constructor($panel) {\r\n        this._$targetCell = {};\r\n        this._$panel = $panel.hide().removeClass('hidden');\r\n        this._$panel.on('click', 'span', e => {\r\n            const $cell = this._$targetCell; // 点击迷盘的数字框\r\n            const $span = $(e.target); // 弹出盘 的数字\r\n            if ($span.hasClass('mark1')) {\r\n                // mark1 回填样式\r\n                if ($cell.hasClass('mark1')) {\r\n                    $cell.removeClass('mark1');\r\n                }\r\n                else {\r\n                    $cell.removeClass('mark2').addClass('mark1');\r\n                }\r\n            }\r\n            else if ($span.hasClass('mark2')) {\r\n                // mark2 回填样式\r\n                if ($cell.hasClass('mark2')) {\r\n                    $cell.removeClass('mark2');\r\n                }\r\n                else {\r\n                    $cell.removeClass('mark1').addClass('mark2');\r\n                }\r\n            }\r\n            else if ($span.hasClass('empty')) {\r\n                // empty 取消数字填写, 取消 mark 样式\r\n                $cell.text(0).addClass('empty');\r\n            }\r\n            else {\r\n                // 1-9 回填数字\r\n                $cell.removeClass('empty').text($span.text());\r\n            }\r\n            this.hide();\r\n        });\r\n    }\r\n    popup($cell) {\r\n        this._$targetCell = $cell;\r\n        const { left, top } = $cell.position();\r\n        const bodyWidth = $(document.body).width();\r\n        // const panelWidth = this._$panel.width()\r\n        // console.log(left, this._$panel.width(), left + this._$panel.width())\r\n        if (left + this._$panel.width() > bodyWidth) {\r\n            this._$panel.css({\r\n                right: 0,\r\n                top: `${top}px`,\r\n                left: 'initial'\r\n            }).show();\r\n        }\r\n        else {\r\n            this._$panel.css({\r\n                left: `${left}px`,\r\n                top: `${top}px`\r\n            }).show();\r\n        }\r\n    }\r\n    hide() {\r\n        this._$panel.hide();\r\n    }\r\n}\r\nexports.PopupNumbers = PopupNumbers;\r\nexports.default = PopupNumbers;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module\n__webpack_require__(\"./js/index.ts\");\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}